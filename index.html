<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vantis - Coming Soon</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Babel (for running JSX in the browser) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Firebase JS SDK -->
    <script type="module">
        // These are imported here to be available in the text/babel script
        import { initializeApp, setLogLevel } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";
        
        // Make them globally available for the Babel script
        window.firebase = {
            initializeApp, setLogLevel,
            getFirestore, collection, addDoc, serverTimestamp,
            getAuth, signInAnonymously, onAuthStateChanged
        };
    </script>

    <style>
        /* This prevents a flash of unstyled content before Tailwind loads */
        body {
            font-family: 'Inter', sans-serif;
        }
        
        /* This is the honeypot style to hide the field */
        .vantis-hp-field {
            position: absolute;
            left: -5000px;
            aria-hidden: true;
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>
<body class="bg-slate-100 dark:bg-[#000000]">
    
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <!-- 
      This is your React Application.
      Babel will transpile this JSX code live in the browser.
    -->
    <script type="text/babel">
        // Pull in the Firebase functions we made global
        const {
            initializeApp, setLogLevel,
            getFirestore, collection, addDoc, serverTimestamp,
            getAuth, signInAnonymously, onAuthStateChanged
        } = window.firebase;

  
      const firebaseConfig = {
  apiKey: "AIzaSyDnGnZz0jmqmOgWpVHzo0q-YAnl0uBMDMY",
  authDomain: "vantis-waitlist.firebaseapp.com",
  projectId: "vantis-waitlist",
  storageBucket: "vantis-waitlist.firebasestorage.app",
  messagingSenderId: "131075812819",
  appId: "1:131075812819:web:2bc5b1ade1a0e01a7ed326"
};
        // -----------------------------------------

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        // setLogLevel('Debug'); // Uncomment for detailed logs

        // --- Constants for styling (from your original @apply) ---
        const formInputClasses = "w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-[#000000]/50 focus:ring-2 focus:ring-[#04ACD9] focus:border-[#04ACD9] focus:outline-none transition-all duration-200 placeholder:text-slate-400 dark:placeholder:text-slate-500 text-slate-900 dark:text-slate-200 shadow-sm focus:bg-white dark:focus:bg-[#000000]/70";
        const formLabelClasses = "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 text-left";
        const selectClasses = `${formInputClasses} appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,<svg_xmlns="http://www.w3.org/2000/svg"_viewBox="0_0_20_20"_fill="%2364748b"><path_fill-rule="evenodd"_d="M5.293_7.293a1_1_0_011.414_0L10_10.586l3.293-3.293a1_1_0_111.414_1.414l-4_4a1_1_0_01-1.414_0l-4-4a1_1_0_010-1.414z"_clip-rule="evenodd"_/></svg>')] dark:bg-[url('data:image/svg+xml;charset=UTF-8,<svg_xmlns="http://www.w3.org/2000/svg"_viewBox="0_0_20_20"_fill="%2394a3b8"><path_fill-rule="evenodd"_d="M5.293_7.293a1_1_0_011.414_0L10_10.586l3.293-3.293a1_1_0_111.414_1.414l-4_4a1_1_0_01-1.414_0l-4-4a1_1_0_010-1.414z"_clip-rule="evenodd"_/></svg>')] bg-no-repeat bg-[position:right_0.75rem_center] bg-[length:1.25em] pr-10`;
        const audienceChoiceBaseClasses = "cursor-pointer border border-slate-300 dark:border-slate-700 rounded-lg p-4 text-center transition-all duration-200 hover:border-[#04ACD9] dark:hover:border-[#04ACD9]";
        const audienceChoiceSelectedClasses = "border-[#04ACD9] dark:border-[#04ACD9] ring-2 ring-[#04ACD9] dark:ring-[#04ACD9] bg-[#04ACD9]/5 dark:bg-[#04ACD9]/10";
        const checkboxClasses = "h-4 w-4 rounded border-slate-300 dark:border-slate-600 text-[#45B930] focus:ring-[#45B930] dark:bg-slate-700 dark:checked:bg-[#45B930] dark:focus:ring-offset-slate-800";
        const errorTextClasses = "mt-1.5 text-xs text-red-600 dark:text-red-400 text-left";

        // --- Icon Components ---
        const CheckCircleIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" className="h-5 w-5 text-green-500">
                <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clipRule="evenodd" />
            </svg>
        );

        // --- SVG Logo Component ---
        const VantisLogo = () => (
          <img 
            src="Vantis-Logo.svg.svg" 
            alt="Vantis Logo" 
            className="h-14 w-auto"
          />
        );

        // --- Form Select Options Constants ---
        const companySizeOptions = [
          { value: "1-10", label: "1-10 employees" },
          { value: "11-50", label: "11-50 employees" },
          { value: "51-200", label: "51-200 employees" },
          { value: "201-1000", label: "201-1,000 employees" },
          { value: "1000+", label: "1,000+ employees" },
        ];

        const hiringIntentOptions = [
          { value: "Active (0-3 Months)", label: "Actively hiring (0-3 months)" },
          { value: "Planning (3-6 Months)", label: "Planning to hire (3-6 months)" },
          { value: "Exploring (6+ Months)", label: "Just exploring (6+ months)" },
        ];

        // --- UPDATED list to include country codes and flags (unicode emojis) ---
        const africanCountries = [
            { name: "Nigeria", code: "+234", flag: "ðŸ‡³ðŸ‡¬" },
            { name: "Ghana", code: "+233", flag: "ðŸ‡¬ðŸ‡­" },
            { name: "South Africa", code: "+27", flag: "ðŸ‡¿ðŸ‡¦" },
            { name: "Kenya", code: "+254", flag: "ðŸ‡°ðŸ‡ª" },
            { name: "Egypt", code: "+20", flag: "ðŸ‡ªðŸ‡¬" },
            { name: "Algeria", code: "+213", flag: "ðŸ‡©ðŸ‡¿" },
            { name: "Angola", code: "+244", flag: "ðŸ‡¦ðŸ‡´" },
            { name: "Benin", code: "+229", flag: "ðŸ‡§ðŸ‡¯" },
            { name: "Botswana", code: "+267", flag: "ðŸ‡§ðŸ‡¼" },
            { name: "Burkina Faso", code: "+226", flag: "ðŸ‡§ðŸ‡«" },
            { name: "Burundi", code: "+257", flag: "ðŸ‡§ðŸ‡®" },
            { name: "Cabo Verde", code: "+238", flag: "ðŸ‡¨ðŸ‡»" },
            { name: "Cameroon", code: "+237", flag: "ðŸ‡¨ðŸ‡²" },
            { name: "Central African Republic", code: "+236", flag: "ðŸ‡¨ðŸ‡«" },
            { name: "Chad", code: "+235", flag: "ðŸ‡¹ðŸ‡©" },
            { name: "Comoros", code: "+269", flag: "ðŸ‡°ðŸ‡²" },
            { name: "Congo (Congo-Brazzaville)", code: "+242", flag: "ðŸ‡¨ðŸ‡¬" },
            { name: "Cote d'Ivoire", code: "+225", flag: "ðŸ‡¨ðŸ‡®" },
            { name: "Djibouti", code: "+253", flag: "ðŸ‡©ðŸ‡¯" },
            { name: "DR Congo (Congo-Kinshasa)", code: "+243", flag: "ðŸ‡¨ðŸ‡©" },
            { name: "Equatorial Guinea", code: "+240", flag: "ðŸ‡¬ðŸ‡¶" },
            { name: "Eritrea", code: "+291", flag: "ðŸ‡ªðŸ‡·" },
            { name: "Eswatini", code: "+268", flag: "ðŸ‡¸ðŸ‡¿" },
            { name: "Ethiopia", code: "+251", flag: "ðŸ‡ªðŸ‡¹" },
            { name: "Gabon", code: "+241", flag: "ðŸ‡¬ðŸ‡¦" },
            { name: "Gambia", code: "+220", flag: "ðŸ‡¬ðŸ‡²" },
            { name: "Guinea", code: "+224", flag: "ðŸ‡¬ðŸ‡³" },
            { name: "Guinea-Bissau", code: "+245", flag: "ðŸ‡¬ðŸ‡¼" },
            { name: "Lesotho", code: "+266", flag: "ðŸ‡±ðŸ‡¸" },
            { name: "Liberia", code: "+231", flag: "ðŸ‡±ðŸ‡·" },
            { name: "Libya", code: "+218", flag: "ðŸ‡±ðŸ‡¾" },
            { name: "Madagascar", code: "+261", flag: "ðŸ‡²ðŸ‡¬" },
            { name: "Malawi", code: "+265", flag: "ðŸ‡²ðŸ‡¼" },
            { name: "Mali", code: "+223", flag: "ðŸ‡²ðŸ‡±" },
            { name: "Mauritania", code: "+222", flag: "ðŸ‡²ðŸ‡·" },
            { name: "Mauritius", code: "+230", flag: "ðŸ‡²ðŸ‡º" },
            { name: "Morocco", code: "+212", flag: "ðŸ‡²ðŸ‡¦" },
            { name: "Mozambique", code: "+258", flag: "ðŸ‡²ðŸ‡¿" },
            { name: "Namibia", code: "+264", flag: "ðŸ‡³ðŸ‡¦" },
            { name: "Niger", code: "+227", flag: "ðŸ‡³ðŸ‡ª" },
            { name: "Rwanda", code: "+250", flag: "ðŸ‡·ðŸ‡¼" },
            { name: "Sao Tome and Principe", code: "+239", flag: "ðŸ‡¸ðŸ‡¹" },
            { name: "Senegal", code: "+221", flag: "ðŸ‡¸ðŸ‡³" },
            { name: "Seychelles", code: "+248", flag: "ðŸ‡¸ðŸ‡¨" },
            { name: "Sierra Leone", code: "+232", flag: "ðŸ‡¸ðŸ‡±" },
            { name: "Somalia", code: "+252", flag: "ðŸ‡¸ðŸ‡´" },
            { name: "South Sudan", code: "+211", flag: "ðŸ‡¸ðŸ‡¸" },
            { name: "Sudan", code: "+249", flag: "ðŸ‡¸ðŸ‡©" },
            { name: "Tanzania", code: "+255", flag: "ðŸ‡¹ðŸ‡¿" },
            { name: "Togo", code: "+228", flag: "ðŸ‡¹ðŸ‡¬" },
            { name: "Tunisia", code: "+216", flag: "ðŸ‡¹ðŸ‡³" },
            { name: "Uganda", code: "+256", flag: "ðŸ‡ºðŸ‡¬" },
            { name: "Zambia", code: "+260", flag: "ðŸ‡¿ðŸ‡²" },
            { name: "Zimbabwe", code: "+263", flag: "ðŸ‡¿ðŸ‡¼" }
        ];

        const competencyLevels = [
          { value: "Executive/C-Suite", label: "Executive / C-Suite" },
          { value: "Senior Management", label: "Senior Management" },
          { value: "Mid-Level Professional", label: "Mid-Level Professional" },
          { value: "Junior/Entry-Level", label: "Junior / Entry-Level" },
          { value: "Founder/Owner", label: "Founder / Owner" },
          { value: "Specialist/Individual Contributor", label: "Specialist / Individual Contributor" },
          { value: "Other", label: "Other" },
        ];

        const sectorOptions = [
          { value: "Technology", label: "Technology" },
          { value: "Finance", label: "Finance" },
          { value: "Marketing", label: "Marketing & Advertising" },
          { value: "Consulting", label: "Consulting" },
          { value: "Recruitment", label: "Recruitment/HR" },
          { value: "Healthcare", label: "Healthcare" },
          { value: "Education", label: "Education" },
          { value: "Other", label: "Other" },
        ];

        // --- Main App Component ---
        function App() {
            // Use React hooks
            const { useState, useEffect } = React;

            // --- State Hooks ---
            const [userType, setUserType] = useState(''); // 'Company' or 'Talent'
            const [formData, setFormData] = useState({
                firstName: '',
                lastName: '',
                email: '',
                companyName: '',
                companySize: '',
                hiringIntent: '',
                country: '',
                level: '',
                sector: '',
                phoneNumber: '', 
                whatsAppConsent: false,
                website: '', // Honeypot
            });
            
            // --- NEW validation states ---
            const [formErrors, setFormErrors] = useState({});
            const [touched, setTouched] = useState({});

            const [formStatus, setFormStatus] = useState('idle'); // 'idle', 'submitting', 'success', 'error'
            const [successMessage, setSuccessMessage] = useState('');
            const [errorMessage, setErrorMessage] = useState('');
            const [userId, setUserId] = useState(null); 

            // --- Effects ---
            
            // Effect for Firebase Authentication
            useEffect(() => {
                const unsubscribe = onAuthStateChanged(auth, async (user) => {
                if (user) {
                    setUserId(user.uid);
                } else {
                    try {
                        if (firebaseConfig.apiKey === "PASTE_YOUR_API_KEY_HERE") {
                            throw new Error("Firebase config is using placeholder values.");
                        }
                        await signInAnonymously(auth);
                    } catch (error) {
                        console.error("Anonymous sign-in error:", error);
                        setFormStatus('error');
                        if (error.message.includes("placeholder")) {
                            setErrorMessage("Configuration error. Please follow setup instructions.");
                        } else if (error.code === "auth/api-key-not-valid") {
                             setErrorMessage("Firebase API key is not valid. Please check your config.");
                        } else {
                            setErrorMessage("Could not connect. Please refresh the page.");
                        }
                    }
                }
                });
                return () => unsubscribe();
            }, []);

            // --- Validation Logic ---
            const validateField = (name, value) => {
                let error = null;
                // 1. General "Required" Check
                if (value === null || value === undefined || (typeof value === 'string' && value.trim() === '')) {
                    // Check if it's a required field. 'whatsAppConsent' and 'website' are not.
                    const requiredFields = [
                        'firstName', 'lastName', 'email', 'sector', 'userType',
                        'companyName', 'companySize', 'hiringIntent', // Company
                        'country', 'phoneNumber', 'level' // Talent
                    ];
                    // We only care about fields that *should* be validated based on userType
                    if (requiredFields.includes(name)) {
                         error = 'This field is required';
                    }
                }

                // 2. Specific Field Logic (only if no "required" error)
                if (!error) {
                    if (name === 'email') {
                        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if (!emailRegex.test(value)) error = 'Invalid email address';
                    }
                    if (name === 'phoneNumber') {
                        const phoneRegex = /^\d{6,14}$/; // 6-14 digits
                        if (!phoneRegex.test(value)) error = 'Must be 6-14 digits only';
                    }
                    // We don't validate names beyond "required" to allow for hyphens, apostrophes, etc.
                }

                // Set error for this field
                setFormErrors(prev => ({ ...prev, [name]: error }));
                return error; // Return error for immediate use if needed
            };


            // --- Event Handlers ---

            const handleChange = (e) => {
                const { name, value, type, checked } = e.target;
                const val = type === 'checkbox' ? checked : value;
                
                // 1. Set the form data state
                setFormData(prev => ({ ...prev, [name]: val }));
                
                // 2. Validate the field in real-time
                validateField(name, val);
            };
            
            const handleBlur = (e) => {
                const { name, value } = e.target;
                // 1. Mark field as "touched"
                setTouched(prev => ({ ...prev, [name]: true }));
                // 2. Re-validate on blur
                validateField(name, value);
            };

            const handleUserTypeChange = (e) => {
                const type = e.target.value;
                setUserType(type);
                // Reset conditional fields and errors
                setFormData(prev => ({
                    ...prev,
                    companyName: '',
                    companySize: '',
                    hiringIntent: '',
                    country: '',
                    level: '',
                    phoneNumber: '',
                    whatsAppConsent: false,
                }));
                // Clear errors and touched state for conditional fields
                setFormErrors({});
                setTouched({});
            };
            
            const handleSubmit = async (e) => {
                e.preventDefault();
                setFormStatus('error'); // Clear previous general error message
                setErrorMessage('');

                // --- 1. HONEYPOT CHECK ---
                if (formData.website) {
                    console.log("Bot detected!");
                    setFormStatus('success');
                    setSuccessMessage(`<h3 class="font-semibold text-lg mb-1">Thank You!</h3><p>Your submission has been received.</p>`);
                    return; 
                }
                
                // --- 2. AUTH CHECK ---
                if (!userId) {
                    setErrorMessage("Authentication not ready. Please wait a moment and try again.");
                    return;
                }

                // --- 3. FINAL VALIDATION ON SUBMIT ---
                let formIsValid = true;
                const newErrors = {};
                const newTouched = {};

                // Define fields that are *always* required
                const baseFields = ['firstName', 'lastName', 'email', 'sector'];
                if (!userType) {
                    formIsValid = false;
                    setErrorMessage('Please select whether you are a Company or Professional.');
                }
                
                // Conditionally add fields based on userType
                let fieldsToValidate = [...baseFields];
                if (userType === 'Company') {
                    fieldsToValidate = [...fieldsToValidate, 'companyName', 'companySize', 'hiringIntent'];
                } else if (userType === 'Talent') {
                    fieldsToValidate = [...fieldsToValidate, 'country', 'phoneNumber', 'level'];
                }

                // Loop and validate all required fields
                fieldsToValidate.forEach(name => {
                    const error = validateField(name, formData[name]);
                    if (error) {
                        newErrors[name] = error;
                        formIsValid = false;
                    }
                    newTouched[name] = true; // Mark all as touched to show errors
                });

                setFormErrors(newErrors);
                setTouched(newTouched);

                if (!formIsValid) {
                    if (!errorMessage) { // Only set this if a specific error isn't already set
                        setErrorMessage('Please fix the errors in the form.');
                    }
                    return;
                }
                // --- End Validation ---

                // --- 4. PREPARE AND SUBMIT DATA ---
                setFormStatus('submitting');
                
                // Find the selected country object
                const selectedCountry = africanCountries.find(c => c.name === formData.country);

                const data = {
                    userType: userType,
                    firstName: formData.firstName,
                    lastName: formData.lastName,
                    email: formData.email,
                    sector: formData.sector,
                    timestamp: serverTimestamp(),
                    submitterUserId: userId,
                };

                if (userType === 'Company') {
                    data.companyName = formData.companyName;
                    data.companySize = formData.companySize;
                    data.hiringIntent = formData.hiringIntent;
                } else if (userType === 'Talent') {
                    data.country = formData.country;
                    data.level = formData.level;
                    data.phoneNumber = `${selectedCountry.code}${formData.phoneNumber}`; // Store full number
                    data.whatsAppConsent = formData.whatsAppConsent;
                }
                
                try {
                    const collectionPath = "waitlist"; 
                    await addDoc(collection(db, collectionPath), data);
                    
                    // Set success message based on user type
                    if (userType === 'Company') {
                        setSuccessMessage(`
                            <h3 class="font-semibold text-lg mb-1">Thank You!</h3>
                            <p>We'll be in touch soon to discuss how Vantis can help you build a smarter, safer, and more cost-effective team.</p>
                        `);
                    } else if (userType === 'Talent') {
                        if (formData.country === 'Nigeria') {
                            setSuccessMessage(`
                                <h3 class="font-semibold text-lg mb-1">Get Ready, Nigeria!</h3>
                                <p>Vantis is officially launching in Nigeria in December 2025! You're on the priority list for exclusive access to job opportunities and launch updates.</p>
                            `);
                        } else {
                            setSuccessMessage(`
                                <h3 class="font-semibold text-lg mb-1">Thanks for Registering!</h3>
                                <p>We launch in Nigeria first. Youâ€™re now queued for our Africa-wide expansion and will be notified as soon as your country goes live.</p>
                            `);
                        }
                    }
                    setFormStatus('success');

                } catch (error) {
                    console.error("Error adding document: ", error);
                    setErrorMessage('Something went wrong. Please try again later.');
                    setFormStatus('error');
                }
            };

            // --- Render Logic ---
            const isLoading = formStatus === 'submitting';
            const selectedCountry = africanCountries.find(c => c.name === formData.country);
            
            // Helper to check if a field is valid (touched and no error)
            const isFieldValid = (name) => touched[name] && !formErrors[name];
            // Helper to get error text
            const getError = (name) => touched[name] && formErrors[name];

            return (
                <div className="text-slate-800 dark:text-slate-200 flex flex-col items-center justify-center min-h-screen px-4 py-8" style={{ fontFamily: "'Gotham', 'Inter', sans-serif" }}>
                
                {/* Background Animation & Keyframes Style Tag */}
                <style>{`
                    @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(15px); }
                    to { opacity: 1; transform: translateY(0); }
                    }
                    .fade-in {
                    animation: fadeIn 0.9s ease-out forwards;
                    }
                    @keyframes slowBlob {
                    0%, 100% { transform: translate(0px, 0px) scale(1); }
                    25% { transform: translate(60px, -100px) scale(1.15); }
                    50% { transform: translate(-40px, 80px) scale(0.9); }
                    75% { transform: translate(100px, 50px) scale(1.1); }
                    }
                    .animate-slow-blob {
                    animation: slowBlob 25s infinite ease-in-out;
                    }
                `}</style>

                <div className="fixed top-0 left-0 w-full h-full -z-10 overflow-hidden">
                    <div className="absolute top-1/4 left-1/4 w-[400px] h-[400px] sm:w-[600px] sm:h-[600px] bg-gradient-to-tr from-[#04ACD9]/15 via-[#45B930]/10 to-purple-500/10 dark:from-[#04ACD9]/15 dark:via-[#45B930]/10 dark:to-purple-900/15 rounded-full filter blur-3xl opacity-60 animate-slow-blob"></div>
                </div>

                <div className="w-full max-w-xl text-center py-16 sm:py-24">
                    
                    <div className="h-14 w-auto mx-auto mb-10 fade-in flex items-center justify-center" style={{ animationDelay: "0.1s" }}>
                        <VantisLogo />
                    </div>
                    
                    <h1 className="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-[#000000] dark:text-white mb-5 fade-in leading-tight" style={{ animationDelay: "0.3s" }}>
                    The future of global talent is coming.
                    </h1>
                    <p className="text-lg sm:text-xl text-slate-600 dark:text-slate-300 mb-12 fade-in" style={{ animationDelay: "0.5s" }}>
                    Connecting elite African professionals with leading UK companies. Compliant, cost-effective, and transformative. Sign up for exclusive launch updates.
                    </p>

                    <form onSubmit={handleSubmit} noValidate className="bg-white/80 dark:bg-slate-800/60 backdrop-blur-md p-8 sm:p-10 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 space-y-6 sm:space-y-7 fade-in" style={{ animationDelay: "0.7s" }}>
                    
                    {formStatus !== 'success' && (
                        <div id="formFields" className="space-y-6 sm:space-y-7">
                        
                        <div className="vantis-hp-field" aria-hidden="true">
                            <label htmlFor="website">Website</label>
                            <input type="text" id="website" name="website" value={formData.website} onChange={handleChange} tabIndex="-1" autoComplete="off" />
                        </div>

                        <div>
                            <label className={`${formLabelClasses} text-center mb-4`}>I am primarily interested as a...</label>
                            <div className="grid grid-cols-2 gap-4">
                                <label>
                                    <input type="radio" name="userType" value="Company" checked={userType === 'Company'} onChange={handleUserTypeChange} className="sr-only" required />
                                    <div className={`${audienceChoiceBaseClasses} ${userType === 'Company' ? audienceChoiceSelectedClasses : ''}`}>
                                        <span className="font-medium text-slate-800 dark:text-slate-100">UK Company</span>
                                        <span className="block text-xs text-slate-500 dark:text-slate-400">looking to hire</span>
                                    </div>
                                </label>
                                <label>
                                    <input type="radio" name="userType" value="Talent" checked={userType === 'Talent'} onChange={handleUserTypeChange} className="sr-only" required />
                                    <div className={`${audienceChoiceBaseClasses} ${userType === 'Talent' ? audienceChoiceSelectedClasses : ''}`}>
                                        <span className="font-medium text-slate-800 dark:text-slate-100">Professional</span>
                                        <span className="block text-xs text-slate-500 dark:text-slate-400">seeking opportunities</span>
                                    </div>
                                </label>
                            </div>
                            {/* --- NEW: Error for UserType --- */}
                            {getError('userType') && <p className={errorTextClasses + " text-center"}>{getError('userType')}</p>}
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6">
                            <div>
                                <label htmlFor="firstName" className={formLabelClasses}>First Name</label>
                                <div className="relative">
                                    <input type="text" id="firstName" name="firstName" required className={formInputClasses} placeholder="First Name" value={formData.firstName} onChange={handleChange} onBlur={handleBlur} />
                                    {isFieldValid('firstName') && <div className="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"><CheckCircleIcon /></div>}
                                </div>
                                {getError('firstName') && <p className={errorTextClasses}>{getError('firstName')}</p>}
                            </div>
                            <div>
                                <label htmlFor="lastName" className={formLabelClasses}>Last Name</label>
                                <div className="relative">
                                    <input type="text" id="lastName" name="lastName" required className={formInputClasses} placeholder="Last Name" value={formData.lastName} onChange={handleChange} onBlur={handleBlur} />
                                    {isFieldValid('lastName') && <div className="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"><CheckCircleIcon /></div>}
                                </div>
                                {getError('lastName') && <p className={errorTextClasses}>{getError('lastName')}</p>}
                            </div>
                        </div>

                        <div>
                            <label htmlFor="email" className={formLabelClasses}>Email Address</label>
                            <div className="relative">
                                <input type="email" id="email" name="email" required className={formInputClasses} placeholder="Email Address" value={formData.email} onChange={handleChange} onBlur={handleBlur} />
                                {isFieldValid('email') && <div className="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"><CheckCircleIcon /></div>}
                            </div>
                            {getError('email') && <p className={errorTextClasses}>{getError('email')}</p>}
                        </div>

                        {userType === 'Company' && (
                            <div id="companyFields" className="space-y-6 sm:space-y-7">
                                <div>
                                    <label htmlFor="companyName" className={formLabelClasses}>Company Name</label>
                                    <div className="relative">
                                        <input type="text" id="companyName" name="companyName" required className={formInputClasses} placeholder="Company Name" value={formData.companyName} onChange={handleChange} onBlur={handleBlur} />
                                        {isFieldValid('companyName') && <div className="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"><CheckCircleIcon /></div>}
                                    </div>
                                    {getError('companyName') && <p className={errorTextClasses}>{getError('companyName')}</p>}
                                </div>
                                <div>
                                    <label htmlFor="companySize" className={formLabelClasses}>Company Size</label>
                                    <div className="relative">
                                        <select id="companySize" name="companySize" required className={selectClasses} value={formData.companySize} onChange={handleChange} onBlur={handleBlur}>
                                            <option value="" disabled>Select employee count...</option>
                                            {companySizeOptions.map(option => <option key={option.value} value={option.value}>{option.label}</option>)}
                                        </select>
                                        {isFieldValid('companySize') && <div className="absolute inset-y-0 right-0 pr-10 flex items-center pointer-events-none"><CheckCircleIcon /></div>}
                                    </div>
                                    {getError('companySize') && <p className={errorTextClasses}>{getError('companySize')}</p>}
                                </div>
                                <div>
                                    <label htmlFor="hiringIntent" className={formLabelClasses}>Hiring Timeline</label>
                                    <div className="relative">
                                        <select id="hiringIntent" name="hiringIntent" required className={selectClasses} value={formData.hiringIntent} onChange={handleChange} onBlur={handleBlur}>
                                            <option value="" disabled>Select timeline...</option>
                                            {hiringIntentOptions.map(option => <option key={option.value} value={option.value}>{option.label}</option>)}
                                        </select>
                                        {isFieldValid('hiringIntent') && <div className="absolute inset-y-0 right-0 pr-10 flex items-center pointer-events-none"><CheckCircleIcon /></div>}
                                    </div>
                                    {getError('hiringIntent') && <p className={errorTextClasses}>{getError('hiringIntent')}</p>}
                                </div>
                            </div>
                        )}

                        {userType === 'Talent' && (
                            <div id="talentFields" className="space-y-6 sm:space-y-7">
                                <div>
                                    <label htmlFor="country" className={formLabelClasses}>Country</label>
                                    <div className="relative">
                                        <select id="country" name="country" required className={selectClasses} value={formData.country} onChange={handleChange} onBlur={handleBlur}>
                                            <option value="" disabled>Select your country...</option>
                                            {africanCountries.map(country => (
                                                <option key={country.name} value={country.name}>
                                                    {country.flag} {country.name} ({country.code})
                                                </option>
                                            ))}
                                        </select>
                                        {isFieldValid('country') && <div className="absolute inset-y-0 right-0 pr-10 flex items-center pointer-events-none"><CheckCircleIcon /></div>}
                                    </div>
                                    {getError('country') && <p className={errorTextClasses}>{getError('country')}</p>}
                                </div>
                                
                                <div>
                                    <label htmlFor="phoneNumber" className={formLabelClasses}>Phone Number</label>
                                    <div className="flex">
                                        <span className="inline-flex items-center px-3 rounded-l-lg border border-r-0 border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 text-sm">
                                            {selectedCountry ? `${selectedCountry.flag} ${selectedCountry.code}` : '+...'}
                                        </span>
                                        <div className="relative flex-1">
                                            <input type="tel" id="phoneNumber" name="phoneNumber" required className={formInputClasses + " !rounded-l-none"} placeholder="801 234 5678" value={formData.phoneNumber} onChange={handleChange} onBlur={handleBlur} />
                                            {isFieldValid('phoneNumber') && <div className="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"><CheckCircleIcon /></div>}
                                        </div>
                                    </div>
                                    {getError('phoneNumber') && <p className={errorTextClasses}>{getError('phoneNumber')}</p>}
                                </div>

                                <div className="flex items-center gap-2 -mt-3 text-left">
                                    <input type="checkbox" id="whatsAppConsent" name="whatsAppConsent" checked={formData.whatsAppConsent} onChange={handleChange} className={checkboxClasses} />
                                    <label htmlFor="whatsAppConsent" className="text-sm font-medium text-slate-700 dark:text-slate-300">
                                        Send me updates via WhatsApp
                                    </label>
                                </div>

                                <div>
                                    <label htmlFor="level" className={formLabelClasses}>Level of Competency / Role</label>
                                    <div className="relative">
                                        <select id="level" name="level" required className={selectClasses} value={formData.level} onChange={handleChange} onBlur={handleBlur}>
                                            <option value="" disabled>Select your level...</option>
                                            {competencyLevels.map(option => <option key={option.value} value={option.value}>{option.label}</option>)}
                                        </select>
                                        {isFieldValid('level') && <div className="absolute inset-y-0 right-0 pr-10 flex items-center pointer-events-none"><CheckCircleIcon /></div>}
                                    </div>
                                    {getError('level') && <p className={errorTextClasses}>{getError('level')}</p>}
                                </div>
                            </div>
                        )}

                        <div>
                            <label htmlFor="sector" className={formLabelClasses}>Your Sector / Company Sector</label>
                            <div className="relative">
                                <select id="sector" name="sector" required className={selectClasses} value={formData.sector} onChange={handleChange} onBlur={handleBlur}>
                                    <option value="" disabled>Select your industry...</option>
                                    {sectorOptions.map(option => <option key={option.value} value={option.value}>{option.label}</option>)}
                                </select>
                                {isFieldValid('sector') && <div className="absolute inset-y-0 right-0 pr-10 flex items-center pointer-events-none"><CheckCircleIcon /></div>}
                            </div>
                            {getError('sector') && <p className={errorTextClasses}>{getError('sector')}</p>}
                        </div>

                        <div className="pt-2">
                            <button type="submit" id="submitButton" disabled={isLoading || !userId} className="w-full font-bold text-lg py-4 px-8 rounded-lg shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-white bg-[#45B930] hover:bg-[#3da82b] transition-colors">
                                {isLoading ? 'Submitting...' : (userId ? 'Notify me when you launch' : 'Connecting...') }
                            </button>
                        </div>
                        </div>
                    )}

                    {formStatus === 'success' && (
                        <div id="successMessage" className="text-center bg-[#45B930]/10 dark:bg-[#45B930]/20 border border-[#45B930]/20 dark:border-[#45B930]/30 text-[#45B930] dark:text-[#45B930] px-6 py-6 rounded-lg"
                            dangerouslySetInnerHTML={{ __html: successMessage }} />
                    )}

                    {(formStatus === 'error' && errorMessage) && (
                        <div id="errorMessage" className="text-center bg-red-100 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-6 py-4 rounded-lg">
                            <p>{errorMessage}</p>
                        </div>
                    )}
                    </form>

                    <p className="text-xs text-slate-500 dark:text-slate-500 mt-10 fade-in" style={{ animationDelay: "0.9s" }}>
                    &copy; Vantis 2025. All rights reserved.
                    </p>
                </div>
                </div>
            );
        }

        // --- Render the App to the DOM ---
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>
</html>

